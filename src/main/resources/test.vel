include "lang/terminal.vel";
include "lang/map.vel";

func[int] test = func(int a) int {
    func(int a, int b) int {
        a + b
    }(a, 1);
};

func traverse(array[array[int]] matrix) array[array[int]] {
    matrix.map(
        func(int index, array[int] row) array[int] {
            row.map(
                func(int index, int col) int {
                    int v = test(col);
                    term.print(v.str);
                    term.print(" ");
                    v;
                }
            );
            term.println("");
            row;
        }
    );
};

any matrix = new array[array[int]]{
    new array[int]{0, 4, 6, 3, 5},
    new array[int]{8, 4, 2, 5, 1}
};
matrix = matrix.con(new array[array[int]]{new array[int]{2, 1, 3, 7}.plus(8)});

traverse(matrix);

term.println(51966.format(16));

Map[str, str] map = new Map[str, str]();

map.put("One", "1");
map.put("Two", "2");
map.put("Three", "3");
map.put("Four", "4");
map.put("Two", "20"); # Update existing key
map.put("Five", "5");
map.put("Six", "6");
map.put("Seven", "7");
map.put("Eight", "8");
map.put("Nine", "9");
map.put("Nine", "90"); # Update existing key

term.println("Map size is: ".con(map.size.str));
str key = "Nine";
ptr[str] val = map.get(key);
if (val != null) {
    term.println("Value for key '".con(key).con("' is: ").con(val.val));
};
